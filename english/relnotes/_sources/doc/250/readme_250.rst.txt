ICAM V25.0 Release
******************

These release notes describe the most significant V25.0 enhancements and
problem corrections.

We hope you enjoy your new release of the ICAM products and we sincerely
welcome your feedback.

*The CGTech ICAM R&D Team
June 15, 2024*

Systems and Packaging
---------------------

Product Availability
~~~~~~~~~~~~~~~~~~~~

+---------------------------------+------------------------------------+
| System Manufacturer             | O/S Minimum Requirement            |
+---------------------------------+------------------------------------+
| Microsoft Windows 64-bit        | 10, 11, 2016, 2019, 2022           |
+---------------------------------+------------------------------------+

ICAM software is not available for UNIX systems. An ICAM database
created with V20 or earlier on a UNIX system is fully compatible with
ICAM software running on Windows systems.

ICAM V25.0 can run under Microsoft Windows 7, 8 and 8.1, and Microsoft
Windows Server 2008R2, 2012 and 2012R2, but these operating systems are
no longer supported by Microsoft.

\*\* V25.x do not support 32-bit architectures. The 32-bit installers
are available with V24.x on demand only. Contact support@icam.com should
you require a 32-bit installation. Note that using 32-bit is a
disadvantage, having less available memory for a running process.

Productivity Tools
------------------

Quest D\ eveloper’s
~~~~~~~~~~~~~~~~~~~

-  Mill-Turn support for 3-channel Mill-Turn machines. CAM-POST was
   supporting dual channels processing by using the XYZ axes for
   defining linear axes for the main channel and UVW axes for the side
   channel. That design was changed to be extensible to more than two
   channels. The following enhancements have been introduced to support
   the third channel:

|image1|

New registers for linear axes controlled by channel 2 and channel 3 can
be specified easily in the Linear axes section.

|image2|

-  The User defined macro section LOAD feature can now optionally insert
   macros in the existing set from an external macro file. When browsing
   for the macro file, a check-box can be toggled to insert instead of
   overwriting.

-  We added new macro function and variable to enable macro usage on
   generated positioning move. A new macro function
   $FOPPATH((id|AUTO)[,type]) and new system variable $OPPATHI allows to
   retrieve and examine individual motions generated by Path Planning,
   by RTA or by SmartPATH optimization. That, in turn, will make the
   process of decorating the motions easier.

-  New CL record light look-ahead can gather information from the CL
   data with minimum processing.

While $FLOOK() and $FINFO() are full processing look-ahead, the
$FCLINFO() macro function is aiming at quickly scan the CL file records
and retrieve some key information describing organization of the
manufacturing process. Please note that the scan still provides some
basic level of macro processing.

-  The *Control Description / High Speed Machining* section has been
   enhanced with new questions to better estimate RAPID positioning
   time. Different types of positioning are taken into account. This
   includes cases when all axes move independently, when motion of
   rotary axes is slaved to motion of linear axes and when all axes are
   moving and interpolating together (typically RTCP positioning
   motions).

-  New question #200.40 determine if the post-processor should simulate
   RAPID positioning motion and take into account time to accelerate and
   decelerate.

-  #230.60 is used to define the units for rotary axes acceleration.
   Degrees or radians.

-  #261.00 define if RAPID motion decelerates at the end of each motion
   or path. Some controls will maintain the velocity throughout the full
   extent of RAPID interpolated (TCP) path while other may decelerate or
   stop at the end of each motion.

-  #262.00 specifies the percentage of RAPID deceleration When the
   machine decelerates at the end of the RAPID motion, the axes may come
   to the full stop or, the velocity is just reduced by certain amount.

-  #263.00 define if there is a wait time applied at the end of a RAPID
   motion. Some controls will wait at the end of RAPID motion to make
   sure the tool is well in position.

Gener Post-processing
~~~~~~~~~~~~~~~~~~~~~

-  Enhancement for 3-channel Mill-Turn. Post-processor vocabulary is
   also enhanced to control the processing for each channel. The
   "CHANNEL" command has been added to specify the channel number to
   which the commands are intended and to specify where simultaneous
   processing commands are started and ended. Moreover, the "SYNCTR"
   command is also introduced for indicating location of synchronization
   points between different parts of the program. The new syntaxes of
   the commands are the following: 

| CHANNEL/ON|OFF|ichannel 
| SYNCTR/NEXT[,imarker~[,ich1,…]] 

-  The existing preference “Enable debugging during $FLOOK type
   look-ahead” will now show diagnostics generated during the
   look-ahead. By default, when any look-ahead of $FLOOK() type is
   running the execution, the process is the same as in normal process
   mode but no tape output, no listing file and no diagnostics are
   generated. In case when something goes wrong the user is not aware of
   the situation. In this release we have provided an option for all
   diagnostic to be output during $FLOOK() look-ahead. This way, in
   addition to the existing $DIAGLIST, the user will have visual
   indication of any encountered issue.

-  The new ROTABL/SINGLR[,(ON|OFF|NEXT][,sing_pos] command allows to
   specify preferred orientation of a rotary a singular positioning
   motion. When no other conditions exist (for example, special position
   was not requested by Path Planning or by Polar optimization), then
   the user preferred singular position will be respected.

-  | Improvement to the interaction between SmartPATH and SmartCUT.
     These two optimization features are closely cooperating with each
     other. SmartCUT feature designates which cutting motion can be
     converted to positioning motions. Then, SmartPATH optimization
     replaces those converted motions with new, optimal and safe
     passage.
   | We added a new command SMART/AIRCUT,AP,(ON|OFF) to instruct the
     post processor if air cutting motions should be left alone, as they
     were programmed or, if these motions should be replaced by
     SmartPATH for optimal motions.

-  Enhancement to Travel Optimization for Singular tool path. Singular
   motions optimization can be applied to the motions when tool axis
   direction is parallel to the rotary table rotation axis direction.
   The use of LIMIT/POLAR command CAM-POST can generate over-travel free
   path. For example, CYCLE operations were not covered by proactive
   optimization. Current software release implements enhancement for
   singular optimization. CAM-POST is now able to apply proactive
   singular optimization to a series of CYCLE points. The positioning
   motions moving the tool between any two holes can be still exposed to
   the SmartPATH optimization if SmartPATH is also used.

LIMIT/POLAR,...,SCAN,ON

-  New MCHTOL/CONTUR,RAPID command to control the new high speed
   machining RAPID time estimation as described in the Questionnaire
   section above.

Gener & C\ erun
~~~~~~~~~~~~~~~

-  New multi-level trace for added detail during processing: It is now
   possible to have more detailed extra information issued to the trace
   window and listing file during processing. These extra details are
   intended to help develop and debug runtime processing and have 3
   levels of detail. Developer of post-processor, Control Emulator or
   Virtual Machines can also use this feature to include their own debug
   messages.

|image3|

The debug level can be adjusted at any time during processing by using
the Tools->Preference dialog debug tab and setting the Debug Level drop
down list to the desired level as follow: 

-  Level 0: Debug traces are OFF.

-  Level 1: For user defined extra information.

-  Level 2: For internal processing extra information.

-  Level 3: For even more advanced internal processing information.

  

A higher Debug Level also includes all extra messages of lower level.

Alternatively, the new $DBGLVL macro variable can be used to query the
current Debug Level or change it. This can be done by macro or using the
debugger variable window. 

User implementing their own messages using this mechanism should test
the $DBGLVL and issue their message if the value is not zero. 

    

Virtual Machine
~~~~~~~~~~~~~~~

-  Added new input mouse and keyboard schemes

|image4|

-  CGTech VERICUT

-  GibbsCAM

-  Enhanced Support for 3DConnexion SpaceMouse Devices. Adding support
   for the latest devices and improving the responsiveness and
   smoothness.

-  Added new feature for using meshes to represent safety zones around
   component included in collision detection and improve use of
   collision detection settings. Using safety mesh can greatly improve
   detection collision performance on complex objects.

|Inserting image...|

When defining a Virtual Model component in Quest, the component’s
property dialog is now showing new settings for collision detection:

Enable: This turns collision detection ON or OFF without losing
collision settings when toggled. Pre V25.0 would reset collision
settings when turned OFF.

When enabled, the following choices are available:

-  Exact: Collision detection is done on the component’s mesh directly

-  Offset: The specified offset is applied on the component’s mesh and
   used for collision detection.

-  Entity: Allow selection of another mesh to be used for collision
   detection. The selected mesh must be a direct child of the component
   to be valid.

-  Use as safety entity for parent: Allow setting the parent’s safety
   mesh from the child entity property dialog.

Component that are used as a safety mesh will be shown with a blueish
dot next to them in the Quest Virtual Machine builder navigator tree.

Safety mesh visibility can be toggled using the Safety Zone button on
the VM Grid toolbar. Inserting image...

-  Added support for tool name and corresponding macro function to
   reference them:

In addition to the tool ID, it is now possible to define a tool name in
Virtual Machine tool dialog.

|image5|

While tool ID must be unique in a simulation, tool name does not have to
be.

Tool name can be queried and used in the following macro function:
$FMSID, $FMSTOOL and $FMSIDN

-  Improved Virtual Machine setups: It is now possible to define a setup
   name in addition to the setup ID. While setup ID must be unique,
   Setup name does not have to be.

-  The default setup is now definable by the user. Default setup is
   automatically applied at the start of the simulation without the need
   for a LOAD command or user interaction. It is also possible to not
   have a default setup.

|image6|

-  New context menu allows for easier management of setups from the
   Virtual Machine Simulation Manager window.

|image7|

CeRun Run-Time
~~~~~~~~~~~~~~

-  The ICAM Control Emulator interface to 3DEXPERIENCE DELMIA machine
   simulation has been improved to be able to support large machine
   cells. Increase number of supported axes in Integration section of
   the questionnaire from 46 axis to 99.

-  Support for motions having more than 6 axes moving simultaneously.

-  Improved flexibility on assigning NC program to specific devices and
   channels. See detail in the Macro Functions and System Variable
   section.

Integration Tools
-----------------

-  Manufacturing Extractors and the CAM Integration utility have been
   updated to support the following CAM systems and releases:

-  3DEXPERIENCE 2015x–2024x

-  CATIA V5R21, V5-6R2012–2024

-  Creo1–10

-  FeatureCAM 2017–2022

-  Fusion 360

-  Mastercam 2017–2024, and for SolidWorks 2014–2019

-  NX12, NX1847–2406

-  PowerMill 2017–2024

-  New CAM integration with GibbsCAM, enabling the generation of ICAM CL
   files and the ability to launch the GENER post-processor from
   GibbsCAM.

|image8| |image9|

-  The Creo extractor interface was simplified to provide a better user
   experience.

-  Enhancements have been made to the extractor for CL files handling.
   Automating CL file selection and improving default naming
   convention. 

-  SIEMENS NX: Implemented support for tangent barrel tool.

|image10|

Macro Functions and System Variables
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-  GENER post-processor:

-  $FCLINFO function provides a fast look-ahead mechanism for analyzing
   the CL records.

$FCLINFO([ALL|TOOL|(ID|CLREC,n][[,str],end]).

-  $CLOOK variable indicate if the processing is currently in a CL
   look-ahead.

-  $MTNLPP variable automate enabling motion startup and shutdown macros
   only for generated motion from path planning, RTA and SmartPATH.

-  $FOPPATH function will return the sequence of motion generated by
   path planning, RTA and SmartPATH before they are processed and
   output.

$FOPPATH((id|AUTO)[,type])

-  $OPPATHI variable return the ID of the next motion to process or zero
   if all motions has been processed or there is no list.

-  $HEAD, $OE.HEAD and $INFO.HEAD can now have the keyword value RIGHT
   for the mill-Turn third channel.

-  CERUN:

-  $MFICNT is a read-only variable providing the number of input MCD
   program files available from the launch parameters. This is
   independent of the number of CE kernels. The following variables
   provide information about those input MCD files:

-  $MFINAM(1:16): MCD input file path. This variable is read-only.

-  $MFICHN(1:16): Starting channel number of the given MCD input file.
   This variable in writable.

-  $MFIKER(1:16): Kernel id assigned to the given MCD input file. This
   variable is writable.

-  $MCEINP(1:16): Used to assign MCD file index to kernel instances.
   This array is the number of kernel available.

-  Added a multi-kernel synchronization method. The CERUN processing
   kernels can now synchronize their speed of processing based on the
   Virtual Machine channel cycle time. This feature is OFF by default
   and can be turned ON only in the super kernel “Machine Startup” macro
   by calling $FCETIMESYNC(). This is only available for merging lathe
   and composite CE.

-  The Cycle Event macro has a new $P6 variable that indicates the
   BORE-BACK bottom clearance plane value.

-  Added support for the following cycle variables: $CRMODE,
   $CYCLR{XYZ}, $CYCLRO, $CYDECR, $CYDIR, $CYDPTH, $CYFEDT, $CYFEDV,
   $CYINCR, $CYMCH, $CYORNT, $CYRATIO, $CYRETN, $CYRIGID and $CYTYPE.

-  GENER & CERUN

-  $DBGLVL is a system variable that indicates what is the current level
   of the multi-level debug tracing. This is tied to the same level
   selection as in the Debug > Preferences menu. It can also be
   modified.

-  Virtual Machine:

-  $FMSTOOL, $FMSID and $FMSIDN have been extended to support querying
   tool name as defined in the Virtual Machine tool panel.

PQRs
----

The following is a partial list of corrections made to V25.0.

CAM-POST
~~~~~~~~

+-------+--------------------------------------------------------------+
| PQR   | Description                                                  |
+=======+==============================================================+
| 0     | Fixed potential error caused by calling FLOOK or FINFO from  |
| 06585 | within a subprogram and have it run past the end of the      |
|       | subprogram. [V24.2‑2415]                                     |
+-------+--------------------------------------------------------------+
| 0     | When processing this file after a CIRCLE+GOTO, some          |
| 06577 | intermediate                                                 |
|       |                                                              |
|       | #1002 record would be skipped before the next                |
|       | GOTO. [V24.2‑2414]                                           |
+-------+--------------------------------------------------------------+
| 0     | Fixed an issue with multi-point records under merging        |
| 06554 | environment. [V24‑2406]                                      |
+-------+--------------------------------------------------------------+
| 0     | Gener was generating "Invalid continuous motion modifier     |
| 06543 | word in APT file" error message when processing 2d circular  |
|       | motion with TLON,GOFWD/(CIRCLE/..),ON,(LINE/...) when AUTOPS |
|       | is programmed on non XY plane circles. [V24.2‑2405]          |
+-------+--------------------------------------------------------------+
| 0     | Fixed an issue where GENER "View tape file" button on the    |
| 06541 | main interface would not use the current Windows editor      |
|       | associated to the tape file extension.  [V24.2‑2402]         |
+-------+--------------------------------------------------------------+
| 0     | Fix issue when reading PowerMill DUCT5 format where strings  |
| 06495 | with carriage returns were not handled correctly causing     |
|       | Gener to generate a Fatal Error.  [V24.2-2341]               |
+-------+--------------------------------------------------------------+
| 0     | Using ROTABL/…,ROTREF could come into a situation where the  |
| 06601 | rotary axis position internally would be offset by 360       |
|       | degrees and would then hang the processing. [V24.2-2421]     |
+-------+--------------------------------------------------------------+

Control Emulator
~~~~~~~~~~~~~~~~

+-------+--------------------------------------------------------------+
| PQR   | Description                                                  |
+=======+==============================================================+
| 0     | Fixed an issue processing SIEMENS $P_SDIR variables when     |
| 06571 | referenced with an array element. [V24.2-2411]               |
+-------+--------------------------------------------------------------+
| 0     | Fix offset observed in the 3DEXPERIENCE DELMIA NC code       |
| 06526 | display during the playback of the simulation. The line      |
|       | indicator was not showing the right motion being simulated   |
|       | when programs contain some empty blocks. [V24.2-2349]        |
+-------+--------------------------------------------------------------+
|       |                                                              |
+-------+--------------------------------------------------------------+

Virtual Machine/CAM Integration
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

+-------+--------------------------------------------------------------+
| PQR   | Description                                                  |
+=======+==============================================================+
| 0     | Fix bad normal vector of triangles generated by extruded and |
| 06599 | revolved profiles. [V24.2‑2419]                              |
+-------+--------------------------------------------------------------+
| 0     | Fixing the CATIA probing tool extraction. The tool           |
| 06568 | definition for the Ball Stylus Prob tool was outputted as    |
|       | Mill type instead of proper probing. [V24-2411]              |
+-------+--------------------------------------------------------------+
| 0     | Fix for 3DEXPERIENCE extractor. Fixture compensation setup   |
| 06521 | was not being extracted properly. [V24.2-2347]               |
+-------+--------------------------------------------------------------+
| 0     | Having machinable fixture that has been cut will cause       |
| 06579 | SmartPATH impossible to start if the first positioning       |
|       | motion is from the cut fixture area. [V24-24244]             |
+-------+--------------------------------------------------------------+
|       |                                                              |
+-------+--------------------------------------------------------------+

.. |image1| image:: ./media/image1.png
   :width: 5.6362in
   :height: 1.71899in
.. |image2| image:: ./media/image2.png
   :width: 5.38617in
   :height: 3.6776in
.. |image3| image:: ./media/image3.png
   :width: 4.55115in
   :height: 4.84922in
.. |image4| image:: ./media/image4.png
   :width: 4.79107in
   :height: 1.6248in
.. |Inserting image...| image:: ./media/image5.png
   :width: 3.625in
   :height: 3.75in
.. |image5| image:: ./media/image6.png
   :width: 4.01042in
   :height: 0.61458in
.. |image6| image:: ./media/image7.png
   :width: 3.76042in
   :height: 1.29167in
.. |image7| image:: ./media/image8.png
   :width: 3.03125in
   :height: 1.88542in
.. |image8| image:: ./media/image9.png
   :width: 3.05in
   :height: 1.90625in
.. |image9| image:: ./media/image10.png
   :width: 3.00042in
   :height: 2.78164in
.. |image10| image:: ./media/image11.png
   :width: 3.68666in
   :height: 4.15625in
